/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Pieces;

import Chess.Game;





/**
 *
 * @author itayb
 */
public class Rook {

    public static long[] RookHorizontalMaskMoves={
     0x00000000000000ffL, 0x00000000000000ffL, 0x00000000000000ffL, 0x00000000000000ffL, 
     0x00000000000000ffL, 0x00000000000000ffL, 0x00000000000000ffL, 0x00000000000000ffL,  
     0x000000000000ff00L, 0x000000000000ff00L, 0x000000000000ff00L, 0x000000000000ff00L, 
     0x000000000000ff00L, 0x000000000000ff00L, 0x000000000000ff00L, 0x000000000000ff00L,   
     0x0000000000ff0000L, 0x0000000000ff0000L, 0x0000000000ff0000L, 0x0000000000ff0000L, 
     0x0000000000ff0000L, 0x0000000000ff0000L, 0x0000000000ff0000L, 0x0000000000ff0000L,  
     0x00000000ff000000L, 0x00000000ff000000L, 0x00000000ff000000L, 0x00000000ff000000L, 
     0x00000000ff000000L, 0x00000000ff000000L, 0x00000000ff000000L, 0x00000000ff000000L,   
     0x000000ff00000000L, 0x000000ff00000000L, 0x000000ff00000000L, 0x000000ff00000000L,
     0x000000ff00000000L, 0x000000ff00000000L, 0x000000ff00000000L, 0x000000ff00000000L, 
     0x0000ff0000000000L, 0x0000ff0000000000L, 0x0000ff0000000000L, 0x0000ff0000000000L, 
     0x0000ff0000000000L, 0x0000ff0000000000L, 0x0000ff0000000000L, 0x0000ff0000000000L, 
     0x00ff000000000000L, 0x00ff000000000000L, 0x00ff000000000000L, 0x00ff000000000000L, 
     0x00ff000000000000L, 0x00ff000000000000L, 0x00ff000000000000L, 0x00ff000000000000L, 
     0xff00000000000000L, 0xff00000000000000L, 0xff00000000000000L, 0xff00000000000000L, 
     0xff00000000000000L, 0xff00000000000000L, 0xff00000000000000L, 0xff00000000000000L, 

    };
    public static long[] RookVerctivalMaskMoves={
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L,  
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L,   
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L,  
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L,   
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L,
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L, 
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L, 
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L, 
     0x0101010101010101L, 0x0202020202020202L, 0x0404040404040404L, 0x0808080808080808L, 
     0x1010101010101010L, 0x2020202020202020L, 0x4040404040404040L, 0x8080808080808080L, 

    };
    

    public static long RookPossibleMoves(int place,Game game)
    {
        boolean isPlayerPiece=game.isPlayerPiece(0x1L<<place);
        long slider=0x1L<<place;
        long horizontal;
        long vertical;

        

             vertical= (((game.AllOccupiedPlaces & RookVerctivalMaskMoves[place]) - (2* slider)) ^ 
                       Long.reverse(Long.reverse(game.AllOccupiedPlaces & RookVerctivalMaskMoves[place])  - (2* Long.reverse(slider))))
                       & RookVerctivalMaskMoves[place];

             horizontal= (((game.AllOccupiedPlaces & RookHorizontalMaskMoves[place]) - (2* slider)) ^ 
                       Long.reverse(Long.reverse(game.AllOccupiedPlaces & RookHorizontalMaskMoves[place])  - (2* Long.reverse(slider))))
                       & RookHorizontalMaskMoves[place];             
             
             return (horizontal | vertical) & (isPlayerPiece ? ~game.PlayerOccupiedPlaces : ~game.ComputerOccupiedPlaces);

    }
}
